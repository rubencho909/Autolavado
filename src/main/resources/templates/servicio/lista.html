<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{plantilla/template :: head}"></head>

<body>
<header th:replace="~{plantilla/template :: header}"></header>

    <div class="container">
        <h1 th:text="${titulo}"></h1>
    </div>

    <div class="container">
        <table class="table table-dark table-striped text-center">
            <thead>
            <tr>
                <th scope="col">Codigo</th>
                <th scope="col">Nombre Servicio</th>
                <th scope="col">Valor</th>
                <th scope="col">Ver</th>
                <th scope="col">Editar</th>
                <th scope="col">Eliminar</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="servicio:${serlist}">
                <td th:text="${servicio.codigo}"></td>
                <td th:text="${servicio.nombre}"></td>
                <td th:text="${servicio.valor}"></td>
                <td>
                    <a th:href="@{'/servicio/detalle/' + ${servicio.id}}">
                        <button class="btn btn-outline-primary"><i class="fa-solid fa-eye"></i></button>
                    </a>
                </td>
                <td>
                    <a th:href="@{'/servicio/editar/' + ${servicio.id}}">
                        <button class="btn btn-outline-warning"><i class="fa-solid fa-pen-to-square"></i></button>
                    </a>
                </td>
                <td>
                    <a th:href="@{'/servicio/borrar/' + ${servicio.id}}">
                        <button class="btn btn-outline-danger"><i class="fa-solid fa-trash-can"></i></button>
                    </a>
                </td>
            </tr>
            </tbody>
        </table>
        <a th:href="@{/servicio/nuevo}">
            <button class="btn btn-outline-success btn-lg">
                <i class="fa-solid fa-circle-plus"></i> Nuevo Servicio
            </button>
        </a>
    </div>

    <footer th:replace="~{plantilla/template :: footer}"></footer>

    <script th:inline="javascript">
        window.onload = function(){
            var msg = [[${mensaje}]];
            if(msg == "saveOK"){
                Command : toastr["success"]("Empresa creada con éxito!")
            } else if(msg == "updateOK"){
                Command : toastr["success"]("Empresa actualizada con éxito!")
            } else if(msg == "deleteOK"){
                Command : toastr["error"]("Empresa eliminada con éxito!")
            } else if(msg == "deleteError"){
                Command : toastr["error"]("Empresa no ha sido eliminada!")
            }
            toastr.options={
                "positionClass": "toast-top-right",
                "showDuration":"300",
                "showMethod":"fadeIn",
                "hideMethod":"fadeOut",
            }
        }
    </script>

</body>
</html>